# ⚠️ WARNING: This is a TEMPLATE - DO NOT commit real secrets!
# Use External Secrets Operator or Vault CSI in production
# For local dev only: kubectl create secret generic molam-experiments-secrets --from-literal=...

apiVersion: v1
kind: Secret
metadata:
  name: molam-experiments-secrets
  namespace: molam-pay
  labels:
    app: molam-experiments
type: Opaque
stringData:
  # Database connection (use managed PostgreSQL in production)
  DATABASE_URL: "postgresql://user:CHANGEME@postgres-host:5432/molam"

  # Molam ID JWT public key (RS256/ES256)
  MOLAM_ID_PUBLIC_KEY: |
    -----BEGIN PUBLIC KEY-----
    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA...CHANGEME...
    -----END PUBLIC KEY-----

  # SIRA endpoint
  SIRA_URL: "http://sira-service.molam-ai.svc.cluster.local:4000"

  # Observability (optional)
  SENTRY_DSN: ""

  # KMS/Vault (optional - for runtime secret decryption)
  KMS_KEY_URI: ""

---
# Alternative: Use ExternalSecret (External Secrets Operator)
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: molam-experiments-secrets
#   namespace: molam-pay
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: vault-backend
#     kind: SecretStore
#   target:
#     name: molam-experiments-secrets
#     creationPolicy: Owner
#   data:
#     - secretKey: DATABASE_URL
#       remoteRef:
#         key: molam/experiments/database-url
#     - secretKey: MOLAM_ID_PUBLIC_KEY
#       remoteRef:
#         key: molam/id/public-key
