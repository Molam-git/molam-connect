# =====================================================================
# Brique 81 â€” Billing Overages Environment Configuration
# =====================================================================
# Copy this file to .env and update with your values
# =====================================================================

# PostgreSQL Database
PGHOST=localhost
PGPORT=5432
PGDATABASE=molam_connect
PGUSER=postgres
PGPASSWORD=your_secure_password

# Kafka Configuration
KAFKA_BROKERS=localhost:9092,localhost:9093,localhost:9094
KAFKA_GROUP_ID=molam-overage-billing
KAFKA_OVERAGE_TOPIC=quota_exceeded
KAFKA_CLIENT_ID=molam-overage-billing-consumer

# Redis Configuration (optional, for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# API Server
PORT=3000
NODE_ENV=production
API_BASE_PATH=/api/overages

# Authentication (JWT)
JWT_SECRET=your_jwt_secret_key_change_this
JWT_EXPIRATION=24h

# Ops Authentication
OPS_ROLE_NAME=ops
OPS_API_KEY=ops_secret_key_change_this

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# SIRA Trend Analysis
SIRA_TREND_ANALYSIS_ENABLED=true
SIRA_TREND_ANALYSIS_CRON=0 2 * * *  # Daily at 2 AM

# Performance Tuning
CONSUMER_MAX_CONCURRENT_MESSAGES=100
API_RATE_LIMIT_PER_SECOND=100
PRICING_CACHE_TTL_SECONDS=30
TENANT_CACHE_TTL_SECONDS=300

# Alerting
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
ALERT_ON_HIGH_LAG=true
ALERT_LAG_THRESHOLD=10000
ALERT_ON_HIGH_ERROR_RATE=true
ALERT_ERROR_RATE_THRESHOLD=0.05

# Feature Flags
ENABLE_TIERED_PRICING=true
ENABLE_MULTI_CURRENCY=true
ENABLE_OPS_OVERRIDES=true
ENABLE_SIRA_RECOMMENDATIONS=true
