# Server
NODE_ENV=development
PORT=8061

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/molam

# External APIs
SUBSCRIPTIONS_API_URL=http://localhost:8060
WEBHOOKS_API_URL=http://localhost:8045

# SIRA Scoring Service
SIRA_SCORER_URL=http://localhost:8062
SIRA_SCORER_PORT=8062
SIRA_MODEL_PATH=/models/sira_churn_v1_latest.joblib

# Kafka (Feature Ingestion)
KAFKA_BROKERS=localhost:9092
KAFKA_TOPIC=subscription.events
KAFKA_GROUP_ID=sira-feature-ingest

# AWS S3 (Model Storage)
MODEL_S3_BUCKET=molam-ml-models
AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...

# Python Training
PYTHON_PATH=python3
SIRA_ACTOR=system

# Model Training & Deployment
SIRA_RETRAIN_INTERVAL_MS=86400000         # 24 hours
SIRA_RETRAIN_ON_STARTUP=false
SIRA_RETRAIN_FEEDBACK_THRESHOLD=50        # Trigger retrain after N feedbacks
SIRA_MIN_AUC=0.70                         # Minimum acceptable AUC
SIRA_CANARY_PERCENT=5                     # Canary traffic percentage
SIRA_CANARY_HOURS=24                      # Canary evaluation period
SIRA_MAX_AUC_DROP=0.05                    # Max acceptable AUC drop for canary

# Worker Intervals
ANALYTICS_INTERVAL_MS=3600000             # 1 hour
CHURN_PREDICTION_INTERVAL_MS=86400000     # 24 hours
CHURN_RISK_THRESHOLD=50                   # Minimum risk score to create prediction
