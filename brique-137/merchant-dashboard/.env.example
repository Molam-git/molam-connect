# =============================================================================
# Brique 137 - Merchant Dashboard Configuration
# =============================================================================

# Server Configuration
PORT=3001
NODE_ENV=production
LOG_LEVEL=info

# Database (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/molam_connect

# Redis (for KPI caching)
REDIS_URL=redis://localhost:6379

# Kafka (for real-time events)
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=merchant-dashboard
KAFKA_GROUP_ID=merchant-dashboard-consumer

# Authentication (Molam ID JWT)
JWT_PUBLIC_KEY_URL=https://id.molam.io/.well-known/jwks.json
JWT_ISSUER=https://id.molam.io
JWT_AUDIENCE=molam-connect

# External Services
RISK_AWARE_APPROVALS_URL=http://localhost:3136
SIRA_API_URL=http://localhost:8000

# Webhook Configuration
WEBHOOK_TIMEOUT_MS=5000
WEBHOOK_RETRY_COUNT=3

# Refund Configuration
REFUND_APPROVAL_THRESHOLD=100000
REFUND_REQUIRE_2FA=true

# KPI Cache Configuration
KPI_CACHE_TTL_SECONDS=120
MATERIALIZED_VIEW_REFRESH_INTERVAL_MINUTES=5

# File Upload (S3 for dispute evidence)
S3_BUCKET=molam-merchant-uploads
S3_REGION=eu-west-1
AWS_ACCESS_KEY_ID=your-key
AWS_SECRET_ACCESS_KEY=your-secret

# CORS
CORS_ORIGIN=http://localhost:3000,https://dashboard.molam.io

# Pagination
DEFAULT_PAGE_SIZE=50
MAX_PAGE_SIZE=200

# Export Configuration
EXPORT_SIGNED_URL_TTL_SECONDS=3600
