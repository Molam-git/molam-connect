# Molam Auth Service Configuration

# Server
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/molam_auth
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis (for rate limiting and caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# SIRA Risk Scoring
SIRA_API_URL=https://sira-api.molam.internal
SIRA_API_KEY=sira_key_your_key_here
SIRA_TIMEOUT_MS=500

# BIN Lookup
BIN_LOOKUP_API_URL=https://binlist.molam.com
BIN_LOOKUP_API_KEY=bin_key_your_key_here

# OTP Configuration
OTP_LENGTH=6
OTP_TTL_SECONDS=300
OTP_MAX_ATTEMPTS=3
OTP_RATE_LIMIT_WINDOW_SECONDS=3600
OTP_RATE_LIMIT_MAX_REQUESTS=5

# SMS Provider (Twilio)
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_FROM_NUMBER=+1234567890

# Voice Provider
VOICE_PROVIDER=twilio
VOICE_FROM_NUMBER=+1234567890

# Orange SMS (for West Africa)
ORANGE_SMS_API_URL=https://api.orange.com/sms/v1
ORANGE_SMS_CLIENT_ID=your_client_id
ORANGE_SMS_CLIENT_SECRET=your_client_secret

# Decision Thresholds
RISK_THRESHOLD_3DS2_REQUIRED=80
RISK_THRESHOLD_OTP_REQUIRED=50
RISK_THRESHOLD_LOW_FRICTION=30

# 3DS2 Configuration
THREEDS2_ACS_TIMEOUT_MS=30000
THREEDS2_FALLBACK_TO_OTP=true

# Device Trust
DEVICE_TRUST_ENABLED=true
DEVICE_TRUST_DURATION_DAYS=90

# Logging
LOG_LEVEL=info
LOG_PRETTY=true

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Security
JWT_SECRET=your_jwt_secret_here_change_in_production
ARGON2_TIME_COST=3
ARGON2_MEMORY_COST=65536
ARGON2_PARALLELISM=4

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# CORS
CORS_ORIGIN=http://localhost:3000,https://dashboard.molam.io
